<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaundryHand - Customer Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            animation: float 6s ease-in-out infinite;
        }
        
        .bubble:nth-child(odd) {
            animation-delay: -2s;
        }
        
        .bubble:nth-child(even) {
            animation-delay: -4s;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .bubble-1 { width: 80px; height: 80px; top: 20%; left: 10%; }
        .bubble-2 { width: 120px; height: 120px; top: 60%; left: 5%; }
        .bubble-3 { width: 60px; height: 60px; top: 40%; right: 15%; }
        .bubble-4 { width: 100px; height: 100px; top: 70%; right: 20%; }
        
        .navbar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
            color: white !important;
        }
        
        .navbar-nav .nav-link {
            color: white !important;
            margin: 0 10px;
        }
        
        .navbar-nav .nav-link:hover {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }
        
        .dashboard-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: none;
            position: relative;
            z-index: 10;
        }
        
        .orders-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            border: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10;
        }
        
        .summary-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            border: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10;
        }
        
        .stats-card {
            border-radius: 15px;
            border: none;
            text-align: center;
            padding: 30px 20px;
            margin-bottom: 20px;
        }
        
        .stats-number {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .stats-label {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .btn-primary {
            background: #4a90e2;
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: #357abd;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(74, 144, 226, 0.3);
        }
    </style>
</head>
<body>
    <!-- Floating Bubbles -->
    <div class="bubble bubble-1"></div>
    <div class="bubble bubble-2"></div>
    <div class="bubble bubble-3"></div>
    <div class="bubble bubble-4"></div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand fs-4 fw-bold" href="#">LaundryHand</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="customerdashboard.html">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
        </div>
    </nav>

    <!-- Dashboard Content -->
    <div class="container">
        <!-- Welcome Section -->
        <div class="dashboard-card text-center p-5 mt-4">
            <h1 class="display-5 fw-bold text-primary mb-3">Customer Dashboard</h1>
            <p class="lead text-muted mb-4">Welcome back, nevs!</p>
            <button class="btn btn-primary btn-lg" onclick="createOrder()">Create New Order</button>
        </div>

        <div class="row mt-4">
            <!-- My Orders Section -->
            <div class="col-lg-8 mb-4">
                <div class="card orders-card">
                    <div class="card-header bg-transparent border-0 pt-4 px-4">
                        <h4 class="text-primary fw-bold mb-0">My Orders</h4>
                    </div>
                    <div class="card-body p-4">
                        <div class="text-center py-5">
                            <div class="text-muted mb-3">
                                <svg width="64" height="64" fill="currentColor" class="bi bi-inbox" viewBox="0 0 16 16">
                                    <path d="M4.98 4a.5.5 0 0 0-.39.188L2.54 8H6a.5.5 0 0 1 .5.5 1.5 1.5 0 1 0 3 0A.5.5 0 0 1 10 8h3.46l-2.05-3.812A.5.5 0 0 0 11.02 4H4.98zm9.954 5H10.45a2.5 2.5 0 0 1-4.9 0H1.066l.32 2.562a.5.5 0 0 0 .497.438h12.234a.5.5 0 0 0 .496-.438L14.934 9zM3.809 3.563A1.5 1.5 0 0 1 4.98 3h6.04a1.5 1.5 0 0 1 1.17.563l2.7 5.014a.5.5 0 0 1 .090.427l-.48 3.844A1.5 1.5 0 0 1 13.01 14H2.99a1.5 1.5 0 0 1-1.49-1.152L1.02 8.004a.5.5 0 0 1 .09-.427l2.7-5.014z"/>
                                </svg>
                            </div>
                            <h5 class="text-muted">No orders yet. Create your first order!</h5>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Order Summary Section -->
            <div class="col-lg-4 mb-4">
                <div class="card summary-card">
                    <div class="card-header bg-transparent border-0 pt-4 px-4">
                        <h4 class="text-primary fw-bold mb-0">Order Summary</h4>
                    </div>
                    <div class="card-body p-0">
                        <!-- Total Orders -->
                        <div class="stats-card bg-primary text-white">
                            <div class="stats-number text-white">0</div>
                            <div class="stats-label">Total Orders</div>
                        </div>
                        
                        <!-- Total Amount -->
                        <div class="stats-card bg-success text-white mx-3">
                            <div class="stats-number text-white">â‚±0.00</div>
                            <div class="stats-label">Total Spent</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Order Modal -->
    <div class="modal fade" id="orderModal" tabindex="-1" aria-labelledby="orderModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-primary fw-bold" id="orderModalLabel">Create New Order</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="serviceType" class="form-label fw-bold">Service Type</label>
                            <select class="form-select" id="serviceType">
                                <option value="wash-fold">Wash & Fold</option>
                                <option value="wash-iron">Wash & Iron</option>
                                <option value="dry-clean">Dry Clean</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="estimatedWeight" class="form-label fw-bold">Estimated Weight (kg)</label>
                            <input type="number" class="form-control" id="estimatedWeight" min="1" max="20" step="0.5">
                        </div>
                        <div class="mb-3">
                            <label for="specialInstructions" class="form-label fw-bold">Special Instructions</label>
                            <textarea class="form-control" id="specialInstructions" rows="3" placeholder="Any special handling instructions..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="submitOrder()">Create Order</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
<script>
    // Load orders from localStorage or initialize empty
    let orders = JSON.parse(localStorage.getItem("orders")) || [];

    // Render orders on dashboard
    function renderOrders() {
        const ordersContainer = document.querySelector(".orders-card .card-body");
        const totalOrdersEl = document.querySelector(".summary-card .stats-card:nth-child(1) .stats-number");
        const totalSpentEl = document.querySelector(".summary-card .stats-card:nth-child(2) .stats-number");

        if (orders.length === 0) {
            ordersContainer.innerHTML = `
                <div class="text-center py-5">
                    <div class="text-muted mb-3">
                        <svg width="64" height="64" fill="currentColor" class="bi bi-inbox" viewBox="0 0 16 16">
                            <path d="M4.98 4a.5.5 0 0 0-.39.188L2.54 8H6a.5.5 0 0 1 .5.5 1.5 1.5 0 1 0 3 0A.5.5 0 0 1 10 8h3.46l-2.05-3.812A.5.5 0 0 0 11.02 4H4.98zm9.954 5H10.45a2.5 2.5 0 0 1-4.9 0H1.066l.32 2.562a.5.5 0 0 0 .497.438h12.234a.5.5 0 0 0 .496-.438L14.934 9zM3.809 3.563A1.5 1.5 0 0 1 4.98 3h6.04a1.5 1.5 0 0 1 1.17.563l2.7 5.014a.5.5 0 0 1 .090.427l-.48 3.844A1.5 1.5 0 0 1 13.01 14H2.99a1.5 1.5 0 0 1-1.49-1.152L1.02 8.004a.5.5 0 0 1 .09-.427l2.7-5.014z"/>
                        </svg>
                    </div>
                    <h5 class="text-muted">No orders yet. Create your first order!</h5>
                </div>
            `;
        } else {
            ordersContainer.innerHTML = orders.map((order, index) => `
                <div class="border-bottom pb-3 mb-3">
                    <h6 class="fw-bold text-primary">Order #${index + 1}</h6>
                    <p class="mb-1"><strong>Service:</strong> ${order.service}</p>
                    <p class="mb-1"><strong>Weight:</strong> ${order.weight} kg</p>
                    <p class="mb-1"><strong>Price:</strong> â‚±${order.price.toFixed(2)}</p>
                    <p class="mb-0"><strong>Instructions:</strong> ${order.instructions || "None"}</p>
                </div>
            `).join("");
        }

        // Update summary
        let totalOrders = orders.length;
        let totalSpent = orders.reduce((sum, o) => sum + o.price, 0);

        totalOrdersEl.textContent = totalOrders;
        totalSpentEl.textContent = `â‚±${totalSpent.toFixed(2)}`;
    }

    // Create order
    function submitOrder() {
        const serviceType = document.getElementById("serviceType").value;
        const weight = parseFloat(document.getElementById("estimatedWeight").value);
        const instructions = document.getElementById("specialInstructions").value;

        if (!weight) {
            alert("Please enter the estimated weight");
            return;
        }

        // Simple pricing per kg
        let pricePerKg = 50;
        if (serviceType === "wash-iron") pricePerKg = 70;
        if (serviceType === "dry-clean") pricePerKg = 100;

        const price = pricePerKg * weight;

        const newOrder = {
            service: serviceType,
            weight: weight,
            instructions: instructions,
            price: price
        };

        orders.push(newOrder);
        localStorage.setItem("orders", JSON.stringify(orders));

        renderOrders();

        const modal = bootstrap.Modal.getInstance(document.getElementById("orderModal"));
        modal.hide();

        // Reset form
        document.querySelector("#orderModal form").reset();
    }

    // Show modal
    function createOrder() {
        const modal = new bootstrap.Modal(document.getElementById("orderModal"));
        modal.show();
    }

    // Run when page loads
    document.addEventListener("DOMContentLoaded", renderOrders);
</script>

</body>
</html>